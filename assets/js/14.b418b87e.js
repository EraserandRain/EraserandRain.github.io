(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{581:function(s,a,e){"use strict";e.r(a);var n=e(10),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"_1-reference"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-reference"}},[s._v("#")]),s._v(" 1. Reference")]),s._v(" "),e("p",[s._v("【"),e("a",{attrs:{href:"https://blog.51cto.com/happyliu/1838622",target:"_blank",rel:"noopener noreferrer"}},[s._v("PHP-把curl扩展的SSL版本从NSS改为OpenSSL"),e("OutboundLink")],1),s._v("】")]),s._v(" "),e("p",[s._v("【"),e("a",{attrs:{href:"https://blog.51cto.com/happyliu/1838622",target:"_blank",rel:"noopener noreferrer"}},[s._v("centos6.5 64位ssl_version 是 NSS，不是openssl"),e("OutboundLink")],1),s._v("】")]),s._v(" "),e("h2",{attrs:{id:"_2-概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-概述"}},[s._v("#")]),s._v(" 2. 概述")]),s._v(" "),e("p",[s._v("Centos6.5 默认安装的 "),e("code",[s._v("curl")]),s._v(" 使用的 "),e("code",[s._v("ssl")]),s._v(" 版本是 "),e("code",[s._v("NSS(Network Security Services)")]),s._v(" ,将其改为 "),e("code",[s._v("OpenSSL")]),s._v(" 。")]),s._v(" "),e("h2",{attrs:{id:"_3-步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-步骤"}},[s._v("#")]),s._v(" 3. 步骤")]),s._v(" "),e("p",[s._v("检查 "),e("code",[s._v("curl")]),s._v(" 版本")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -V\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## or")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" --version\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("安装依赖")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" openssl openssl-devel\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("官方下载 "),e("code",[s._v("curl")]),s._v(" 【"),e("a",{attrs:{href:"http://curl.haxx.se/download/archeology/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Index of /download/archeology"),e("OutboundLink")],1),s._v("】")]),s._v(" "),e("p",[s._v("编译安装")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf curl--"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" curl"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n\n./configure --prefix"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr --without-nss --with-ssl\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\nldconfig\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/lib"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/ld.so.conf "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" ldconfig\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[s._v("检查并重启服务")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -V\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" php-fpm restart\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" nginx restart\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"_4-其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-其他"}},[s._v("#")]),s._v(" 4. 其他")]),s._v(" "),e("h3",{attrs:{id:"curl-35-ssl-connect-error-报错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#curl-35-ssl-connect-error-报错"}},[s._v("#")]),s._v(" curl: (35) SSL connect error 报错")]),s._v(" "),e("p",[s._v("解决：升级 NSS")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y update nss\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);