(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{590:function(a,s,t){"use strict";t.r(s);var n=t(10),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"_1-reference"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-reference"}},[a._v("#")]),a._v(" 1. Reference")]),a._v(" "),t("p",[a._v("【"),t("a",{attrs:{href:"https://blog.thenets.org/how-to-run-vagrant-on-wsl-2/",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to run Vagrant + VirtualBox on WSL 2 (2021) (thenets.org)"),t("OutboundLink")],1),a._v("】\n【"),t("a",{attrs:{href:"https://www.junmajinlong.com/virtual/index/#vagrant",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.junmajinlong.com/virtual/index/#vagrant"),t("OutboundLink")],1),a._v("】")]),a._v(" "),t("h2",{attrs:{id:"_2-概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-概述"}},[a._v("#")]),a._v(" 2. 概述")]),a._v(" "),t("p",[t("code",[a._v("Vagrant")]),a._v(" 依赖于 "),t("code",[a._v("provider")]),a._v(" 提供的虚拟化支持，不同的 "),t("code",[a._v("provider")]),a._v(" 提供不同的底层虚拟化方式。")]),a._v(" "),t("p",[t("code",[a._v("virtualbox")]),a._v("、"),t("code",[a._v("hyper-v")]),a._v("、"),t("code",[a._v("vmware workstation")]),a._v("、"),t("code",[a._v("docker")]),a._v(" 等都为 "),t("code",[a._v("provider")]),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"_3-install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-install"}},[a._v("#")]),a._v(" 3. Install")]),a._v(" "),t("p",[a._v("环境要求：需提前安装 "),t("code",[a._v("provider")]),a._v(" ，这里 "),t("a",{attrs:{href:"https://www.notion.so/VirtualBox-ff9e57ec67ec48e886949052743c2a55",target:"_blank",rel:"noopener noreferrer"}},[a._v("安装 VirtualBox"),t("OutboundLink")],1),a._v("。")]),a._v(" "),t("p",[a._v("官网安装 "),t("code",[a._v("vagrant")]),a._v("【"),t("a",{attrs:{href:"https://www.vagrantup.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.vagrantup.com/downloads"),t("OutboundLink")],1),a._v("】")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("vagrant --version\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 查看 vagrant 版本")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h2",{attrs:{id:"_4-vagrant-box"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-vagrant-box"}},[a._v("#")]),a._v(" 4. Vagrant box")]),a._v(" "),t("p",[t("code",[a._v(".box")]),a._v(" 是操作系统压缩包，包含了 Vagrant 的配置信息和虚拟机镜像文件。")]),a._v(" "),t("h3",{attrs:{id:"box-下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#box-下载"}},[a._v("#")]),a._v(" box 下载")]),a._v(" "),t("p",[a._v("官方站点（官方站点较慢）")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("https://app.vagrantup.com/boxes/search\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("code",[a._v("Ubuntu")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("https://cloud-images.ubuntu.com/focal/current/\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## Ubuntu cloud 官方镜像站点")]),a._v("\n\nhttp://mirrors.ustc.edu.cn/ubuntu-cloud-images/focal/current/\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## ubuntu cloud 中科大镜像站点")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("p",[t("code",[a._v("Centos")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("https://cloud.centos.org/centos/7/vagrant/x86_64/images/\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## Centos cloud 官方镜像站点")]),a._v("\n\nhttps://mirrors.ustc.edu.cn/centos-cloud/centos/7/vagrant/x86_64/images/\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## Centos cloud 中科大镜像站点")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("h3",{attrs:{id:"设置-vagrant-home"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置-vagrant-home"}},[a._v("#")]),a._v(" 设置 "),t("code",[a._v("VAGRANT_HOME")])]),a._v(" "),t("p",[a._v("box 文件会默认安装在 "),t("code",[a._v("~/.vagrant.d")]),a._v("，要修改下载时默认的镜像保存位置，需设置环境变量 "),t("code",[a._v("VAGRANT_HOME")]),a._v("。")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'export VAGRANT_HOME=\"storge_dir\"'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v("~/.bashrc\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h2",{attrs:{id:"_5-命令详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-命令详解"}},[a._v("#")]),a._v(" 5. 命令详解")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.notion.so/03fd271c397047068efccd06008e3657",target:"_blank",rel:"noopener noreferrer"}},[a._v("命令详解"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"_6-vagrantfile-配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-vagrantfile-配置文件"}},[a._v("#")]),a._v(" 6. "),t("code",[a._v("Vagrantfile")]),a._v(" 配置文件")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("Vagrant.configure"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("config"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n  \n\tconfig.vm.box "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## box 名称")]),a._v("\n\n\tconfig.vm.hostname "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 设置 hostname")]),a._v("\n\n\tconfig.vm.network "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v(",ip:"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('## 见"[网络配置 config.vm.network](https://www.notion.so/Vagrant-d477bdf5df2f4c648d521268153ae2ba)"')]),a._v("\n\n\tconfig.vm.synced_folder "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 设置映射目录,第一个为本机目录,第二个为虚拟机目录")]),a._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("## 虚拟机的 /vagrant 目录默认挂载宿主机的开发目录")]),a._v("\n\nend\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br")])]),t("h3",{attrs:{id:"节点配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#节点配置"}},[a._v("#")]),a._v(" 节点配置")]),a._v(" "),t("p",[a._v("定义一个名为 "),t("code",[a._v("name")]),a._v(" 的 vm 配置，该节点下的配置信息命名为 "),t("code",[a._v("config_name")])]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("config.vm.define name "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("config_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("\n\tconfig_name.vm.box "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),a._v("\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nend\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("h3",{attrs:{id:"vagrantfile-配置操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vagrantfile-配置操作"}},[a._v("#")]),a._v(" "),t("code",[a._v("Vagrantfile")]),a._v(" 配置操作")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.notion.so/63706f924ceb46768c2170a3a73e382e",target:"_blank",rel:"noopener noreferrer"}},[a._v("Vagrantfile 配置操作"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"_7-插件配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-插件配置"}},[a._v("#")]),a._v(" 7. 插件配置")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.notion.so/eab67d70911d4678bee48ba2d5f5592e",target:"_blank",rel:"noopener noreferrer"}},[a._v("插件配置"),t("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);